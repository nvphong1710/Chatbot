<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="index.css">
</head>
<body>
  <section class="msger">
    <header class="msger-header">
      <div class="msger-header-title">
        <i class="fas fa-comment-alt"></i> SimpleChat
      </div>
      <div class="msger-header-options">
        <span><i class="fas fa-cog"></i></span>
      </div>
    </header>
  
    <main class="msger-chat">
      <div class="msg left-msg">
        <div
         class="msg-img"
         style="background-image: url(https://st3.depositphotos.com/8950810/17657/v/450/depositphotos_176577870-stock-illustration-cute-smiling-funny-robot-chat.jpg)"
        ></div>
  
        <div class="msg-bubble">
          <div class="msg-info">
            <div class="msg-info-name">B√°c s·ªπ dinh d∆∞·ª°ng AI</div>
            <div class="msg-info-time" id="realTime"></div>
          </div>
  
          <div class="msg-text">
            Xin ch√†o, h√£y ch·ªçn ch·ªß ƒë·ªÅ b·∫°n mu·ªën ƒë·∫∑t c√¢u h·ªèi v√† ƒëi·ªÅn v√†o d·∫•u ... theo m·∫´u c√¢u b√™n d∆∞·ªõi. üòÑ
          </div>
        </div>
      </div>
    </main>
    <button onclick="setScenario(1)" class="kb">H·ªèi v·ªÅ ch·∫ø ƒë·ªô ƒÉn h√†ng ng√†y</button>
    <button onclick="setScenario(2)" class="kb">H·ªèi v·ªÅ ch·∫ø ƒë·ªô dinh d∆∞·ª°ng cho c√°c hi·ªán t∆∞·ª£ng</button>
    <button onclick="setScenario(3)" class="kb">H·ªèi v·ªÅ vai tr√≤ v√† nhu c·∫ßu c·ªßa ch·∫•t dinh d∆∞·ª°ng</button>
    <form class="msger-inputarea">
      <input type="text" class="msger-input" placeholder="Enter your message..." id="textInput" readonly>
      <button type="submit" class="msger-send-btn">Send</button>
    </form>
  </section>
</body>
<script>
  const msgerForm = get(".msger-inputarea");
const msgerInput = get(".msger-input");
const msgerChat = get(".msger-chat");

const BOT_MSGS = [
  "Hi, how are you?",
  "Ohh... I can't understand what you trying to say. Sorry!",
  "I like to play games... But I don't know how to play!",
  "Sorry if my answers are not relevant. :))",
  "I feel sleepy! :("
];

// Icons made by Freepik from www.flaticon.com
const BOT_IMG = "https://st3.depositphotos.com/8950810/17657/v/450/depositphotos_176577870-stock-illustration-cute-smiling-funny-robot-chat.jpg";
const PERSON_IMG = "https://img.freepik.com/premium-vector/anonymous-user-circle-icon-vector-illustration-flat-style-with-long-shadow_520826-1931.jpg";
const BOT_NAME = "B√°c s·ªπ dinh d∆∞·ª°ng AI";
const PERSON_NAME = "B·∫°n";

msgerForm.addEventListener("submit", event => {
  event.preventDefault();

  const msgText = msgerInput.value;
  if (!msgText) return;

  appendMessage(PERSON_NAME, PERSON_IMG, "right", msgText);
  msgerInput.value = "";

  botResponse();
});

function appendMessage(name, img, side, text) {
  //   Simple solution for small apps
  const msgHTML = `
    <div class="msg ${side}-msg">
      <div class="msg-img" style="background-image: url(${img})"></div>

      <div class="msg-bubble">
        <div class="msg-info">
          <div class="msg-info-name">${name}</div>
          <div class="msg-info-time">${formatDate(new Date())}</div>
        </div>

        <div class="msg-text">${text}</div>
      </div>
    </div>
  `;

  msgerChat.insertAdjacentHTML("beforeend", msgHTML);
  msgerChat.scrollTop += 500;
}

function botResponse() {
  const r = random(0, BOT_MSGS.length - 1);
  const msgText = BOT_MSGS[r];
  const delay = msgText.split(" ").length * 100;

  setTimeout(() => {
    appendMessage(BOT_NAME, BOT_IMG, "left", msgText);
  }, delay);
}

// Utils
function get(selector, root = document) {
  return root.querySelector(selector);
}

function formatDate(date) {
  const h = "0" + date.getHours();
  const m = "0" + date.getMinutes();

  return `${h.slice(-2)}:${m.slice(-2)}`;
}

function random(min, max) {
  return Math.floor(Math.random() * (max - min) + min);
}

</script>
<script>
  function setScenario(scenario) {
      var inputElement = document.getElementById("textInput");

      // T√πy thu·ªôc v√†o k·ªãch b·∫£n ƒë∆∞·ª£c ch·ªçn, hi·ªÉn th·ªã vƒÉn b·∫£n t∆∞∆°ng ·ª©ng
      switch (scenario) {
          case 1:
              inputElement.value = "Ch√†o b√°c s·ªπ, t√¥i mu·ªën h·ªèi ch·∫ø ƒë·ªô ƒÉn cho ch√°u c√≥ chi·ªÅu cao ... cm, c√¢n n·∫∑ng ... kg, gi·ªõi t√≠nh ... , ... th√°ng tu·ªïi";
              break;
          case 2:
              inputElement.value = "Ch√†o b√°c s·ªπ, ch√°u nh√† t√¥i c√≥ hi·ªán t∆∞·ª£ng ... th√¨ ch·∫ø ƒë·ªô dinh d∆∞·ª°ng nh∆∞ th·∫ø n√†o ƒë·ªÉ kh·∫Øc ph·ª•c ·∫° ?";
              break;
          case 3:
              inputElement.value = "Ch√†o b√°c s·ªπ, t√¥i c·∫ßn bi·∫øt th√™m th√¥ng tin v·ªÅ ch·∫•t ... cho tr·∫ª .. th√°ng tu·ªïi";
              break;
          default:
              inputElement.value = "";
      }

      // H·ªßy thu·ªôc t√≠nh readonly khi n√∫t ƒë∆∞·ª£c nh·∫•n
      inputElement.removeAttribute("readonly");
  }
</script>

<!-- ----------real time -->

<script>
  function displayCurrentTime() {
      var currentTime = new Date();
      var hours = currentTime.getHours();
      var minutes = currentTime.getMinutes();
      var seconds = currentTime.getSeconds();

      // ƒê·ªãnh d·∫°ng th·ªùi gian ƒë·ªÉ c√≥ ƒë·ªãnh d·∫°ng "HH:mm"
      var formattedTime = padNumber(hours) + ":" + padNumber(minutes);

      // G√°n gi√° tr·ªã th·ªùi gian v√†o ph·∫ßn t·ª≠ HTML
      document.getElementById("realTime").innerText = formattedTime;
  }

  // H√†m ƒë·ªÉ th√™m s·ªë 0 ph√≠a tr∆∞·ªõc n·∫øu s·ªë nh·ªè h∆°n 10
  function padNumber(num) {
      return (num < 10 ? "0" : "") + num;
  }

  // G·ªçi h√†m ƒë·ªÉ hi·ªÉn th·ªã th·ªùi gian l√∫c ban ƒë·∫ßu
  displayCurrentTime();
</script>
</html>